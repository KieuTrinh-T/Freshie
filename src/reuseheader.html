<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Freshie |Header</title>

    <!-- Reuse Header or Footer -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="icon" href=" https://img.icons8.com/ios-filled/50/000000/circled-w.png " />

    <!-- Css Styles -->
    <link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="../css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="../css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="../css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="../css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="../css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="../css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="../css/style.css" type="text/css">

</head>

<body>
    <!-- Offcanvas Menu Begin -->
    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="offcanvas__option">
            <div class="offcanvas__links" style="margin-left:30px">
                <a href="/index.html" style="font-size: 30px;"><strong>F  R  E  S  H  I  E</strong></a>
            </div>
        </div>
        <div class="offcanvas__nav__option">
            <a href="/index.html" class="search-switch" id="search-switch"><img src="/img/icon/search.png" alt=""></a>
            <a href="/src/user.html"><img src="/img/icon/user.png" alt=""></a>
            <a href="/src/shopping-cart.html"><img src="/img/icon/cart.png" alt=""> <span>0</span></a>
        </div>
        <div id="mobile-menu-wrap"></div>
    </div>
    <!-- Offcanvas Menu End -->

    <!-- Header Section Begin -->
    <header id="header" style="background-color: #850026;">
        <div class="container" style="background-color: #850026;width: 100%;">
            <div class="row">
                <div class="col-lg-3 col-md-3 header" style="background-color: #850026;">
                    <div class="header__logo">
                        <a href="/index.html"><img src="../img/Logo_Freshie.png" style='height: 100%; width: 100%; object-fit: contain;align-items: center;' alt=""></a>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 header-col-6" style="background-color: #850026;">
                    <nav class="header__menu mobile-menu header_nav">
                        <ul>
                            <li id="home"><a href="../index.html">Trang chủ</a></li>
                            <li id="product"><a href="../src/shop.html">Sản phẩm</a>
                                <ul class="dropdown">
                                    <li id="bed"><a href="../src/shop-Skincare.html">Chăm sóc da</a></li>
                                    <li id="desk"><a href="../src/shop-Haircare.html">Chăm sóc tóc</a></li>
                                    <li id="seat"><a href="../src/shop-Makeup.html">Trang điểm</a></li>
                                    <li id="sofa"><a href="../src/shop-Perfume.html">Nước hoa</a></li>
                                </ul>
                            </li>
                            <li id="collection"><a href="#">Thương hiệu</a>
                                <ul class="dropdown">
                                    <li id="modern-house"><a href="../src/brand-gucci.html">GUCCI</a></li>
                                    <li id="seasonal"><a href="../src/brand-estee.html">Lancôme</a></li>
                                    <li id="special"><a href="../src/brand-lancome.html">Estée Lauder</a></li>
                                </ul>
                            </li>
                            <li id="about"><a href="../src/about.html">Giới thiệu</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3 col-md-3 header" style="background-color: #850026;">
                    <div class="header__nav__option">
                        <a href="#" class="search-switch" style="height: 10%; width: 10%;">
                            <img src="/img/icon/search_header.png" alt="" style='height: 100%; width: 100%; object-fit: contain;'>
                        </a>

                        <a href="/src/shopping-cart.html" style="height: 10%; width: 10%;"><img src="/img/icon/cart.png" alt="" style='height: 100%; width: 100%; object-fit: contain;'><span id="cart-count-info">0</span></a>

                        <a href="/src/my-account.html" style="height: 10%; width: 50%;" id='userName'>
                            <img src="/img/icon/user.png" id="iconUser" alt="" style='height: 20%; width: 20%;object-fit: contain; '>


                        </a>
                    </div>
                </div>
            </div>
            <div class="canvas__open"><i class="fa fa-bars"></i></div>
        </div>
    </header>
    <!-- Header Section End -->

    <script>
        var user = localStorage.getItem('account');
        if (user != null) {
            html = '<img src="/img/icon/user.png" id="iconUser" alt="" style="height: 10%; width: 15%; "> ' + user;
            document.getElementById('userName').innerHTML = html;
            document.getElementById('cart-count-info').innerText = JSON.parse(localStorage.getItem('cart')).length
        }
    </script>

    <script>
        var home = document.getElementById("home");
        var product = document.getElementById("product");
        var collection = document.getElementById("collection");
        var technology = document.getElementById("3D-technology");
        var about = document.getElementById("about");

        var fullURL = window.location.href;
        var arr = fullURL.split("/");
        var link = arr[arr.length - 1];

        var arrProduct = "shop.html, shop-Haircare.html, shop-Makeup.html, shop-Skincare.html, shop-Perfume.html, product-details.html, shop-detail.html";
        var arrCollection = "brand-estee.html, brand-gucci.html, brand-lancome.html";

        // if (link === 'index.html' || fullURL === "https://woodygroup9.web.app/") {
        //     home.className = "active";
        //     console.log(link);
        // }

        // if (arrProduct.includes(link) && link != "") {
        //     product.className = "active";
        //     console.log(link);
        // }

        // if (arrCollection.includes(link) && link != "") {
        //     collection.className = "active";
        //     console.log(link);
        // }

        // if (link === 'about.html') {
        //     about.className = "active";
        //     console.log(link);
        // }
    </script>

    <!-- Search bar -->
    <script>
        var xmlHtttp = new XMLHttpRequest();
        var url = "../json/ProductAll.json";
        let myArr;
        xmlHtttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                myArr = JSON.parse(this.responseText);
            }
        }
        xmlHtttp.open("GET", url, true);
        xmlHtttp.send();

        function selectElement(selector) {
            return document.querySelector(selector);
        }

        function clearResults() {
            selectElement('.search-results').innerHTML = " ";

        }

        function getResults() {
            const search = selectElement('.searchbar').value;
            // console.log(search);
            clearResults();

            if (search.length > 0) {
                for (let i = 0; i < myArr.length; i++) {
                    if (myArr[i].prName.toLocaleLowerCase().includes(search.toLocaleLowerCase())) {
                        selectElement('.search-results').innerHTML += '<div class="search-product" onClick=details(' + i + ')><div class="search-product-pic"><img src="' + myArr[i].prImage + '"></div><div class="search-product-text"><h6>' + myArr[i].prName + '</h6><span>' + myArr[i].prPrice + ' đ</span></div></div>'
                    }
                }
            }
        }
        selectElement('.searchbar').addEventListener('keyup', getResults);

        function details(i) {
            var sp = myArr[i];
            localStorage.setItem("data", JSON.stringify(sp));
            location.href = "/src/shop-detail.html";
        }
    </script>

    <script src="../js/jquery-3.3.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/jquery.nice-select.min.js"></script>
    <script src="../js/jquery.nicescroll.min.js"></script>
    <script src="../js/jquery.magnific-popup.min.js"></script>
    <script src="../js/jquery.countdown.min.js"></script>
    <script src="../js/jquery.slicknav.js"></script>
    <script src="../js/mixitup.min.js"></script>
    <script src="../js/owl.carousel.min.js"></script>
    <script src="../js/main.js"></script>


</body>

</html>